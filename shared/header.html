<!-- file: shared/header.html -->

<div class="announcement-wrapper">
  <div class="announcement-text" id="announcement-marquee"></div>
</div>

<nav class="navbar">
  <a href="index.html">
    <img class="logo" src="IMG/001 Miru Coffee Logo.png" alt="Miru Coffee Logo">
  </a>
  <ul>
    <li id="li-subscriptions"><a href="subscriptions.html">Subscriptions</a></li>
    <li><a href="beans.html">Beans</a></li>
    <li><a href="about.html">About</a></li>
    <li id="li-account"><a href="account.html">Account</a></li>
  </ul>
</nav>

<script type="module">
  import { auth } from "../js/firebase-init.js";
  import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

  const liSubscriptions = document.getElementById("li-subscriptions");
  const liAccount       = document.getElementById("li-account");

  // 初始隱藏「Subscriptions」與「Account」
  liSubscriptions.style.display = "none";
  liAccount.style.display       = "none";

  // 根據登入狀態顯示/隱藏
  onAuthStateChanged(auth, user => {
    if (user && user.emailVerified) {
      // 已登入：顯示訂閱與帳戶
      liSubscriptions.style.display = "inline-block";
      liAccount.style.display       = "inline-block";
    } else {
      // 未登入：隱藏訂閱與帳戶
      liSubscriptions.style.display = "none";
      liAccount.style.display       = "none";
    }
  });
</script>
